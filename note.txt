# Example usage with command-line arguments (replace with your actual values)
python reads3.py --bucket YOUR-BUCKET-NAME --region YOUR-AWS-REGION --access-key 'YOUR-AWS-ACCESS-KEY' --secret-key 'YOUR-AWS-SECRET-KEY'

# Example usage for S3 to Azure migration (replace with your actual values)
python reads3_copyazure.py --bucket YOUR-BUCKET-NAME --region YOUR-AWS-REGION --access-key 'YOUR-AWS-ACCESS-KEY' --secret-key 'YOUR-AWS-SECRET-KEY' --azure-sas 'https://yourstorageaccount.blob.core.windows.net/yourcontainer?sv=YYYY-MM-DD&ss=b&srt=co&sp=rwlacx&se=YYYY-MM-DDTHH:MM:SSZ&st=YYYY-MM-DDTHH:MM:SSZ&spr=https&sig=YOUR-SAS-SIGNATURE'

# Alternative: Using environment variables (Windows PowerShell)
$env:S3_BUCKET = "YOUR-BUCKET-NAME"
$env:AWS_REGION = "YOUR-AWS-REGION"  # e.g., us-east-1, af-south-1
$env:AWS_ACCESS_KEY_ID = "YOUR-AWS-ACCESS-KEY"
$env:AWS_SECRET_ACCESS_KEY = "YOUR-AWS-SECRET-KEY"
$env:AZURE_BLOB_SAS_URL = "https://yourstorageaccount.blob.core.windows.net/yourcontainer?sv=...&sig=..."

# Then run the script without arguments
python reads3_copyazure.py

# Security Note: Never commit real credentials to version control!
# Use environment variables or secure credential storage for production use.


$ az cli command to grant current user storage blob data contributor role
# Example usage with command-line arguments (replace with your actual values)
# get the current user id
$yourUserId = az ad signed-in-user show --query id --output tsv
# assign the role to the user for a patricular storage account
$storageAccountName = "<yourStorageAccountName>"
$storageAccountResourceGroup = "<yourResourceGroupName>"
$storageAccountId = az storage account show --name $storageAccountName --resource-group $storageAccountResourceGroup --query id --output tsv
$az role assignment create --assignee $yourUserId --role "Storage Blob Data Contributor" --scope $storageAccountId
# or assign the role to the user at the subscription level
az role assignment create --assignee $yourUserId --role "Storage Blob Data Contributor"


if using copyawstoazure.py
$env:AZURE_STORAGE_ACCOUNT_NAME = "<yourStorageAccountName>"
$env:AWS_REGION = "us-east-1"
$env:AWS_ACCESS_KEY_ID = "<key>"
$env:AWS_SECRET_ACCESS_KEY = "<secret>"
$env:AWS_SESSION_TOKEN = "<token>" # only if using temporary creds
Execute:
python copyawstoazure.py